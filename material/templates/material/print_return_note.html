<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë°˜ì¶œì¦ (Gate Pass)</title>
    <style>
        body { font-family: "Malgun Gothic", serif; margin: 0; padding: 20px; background-color: #eee; }
        
        /* ì¸ì‡„ ë²„íŠ¼ ì˜ì—­ */
        .no-print { 
            text-align: center; margin-bottom: 20px; padding: 10px; 
            background: #333; color: white; border-radius: 5px; 
        }
        .btn { 
            background: white; color: #333; padding: 8px 15px; 
            text-decoration: none; border-radius: 4px; cursor: pointer; 
            border: none; font-weight: bold; margin: 0 5px; font-size: 14px;
        }
        .btn:hover { background: #ddd; }

        /* A4 ìš©ì§€ ìŠ¤íƒ€ì¼ (ë°˜ì¶œì¦ ì–‘ì‹) */
        .sheet { 
            width: 210mm; margin: 0 auto; background: white; padding: 20mm; 
            box-sizing: border-box; border: 1px solid #ddd; box-shadow: 0 0 10px rgba(0,0,0,0.1); 
            min-height: 297mm; position: relative;
        }
        
        h1 { text-align: center; text-decoration: underline; margin-bottom: 50px; letter-spacing: 5px; font-size: 28px; }
        
        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
        th, td { border: 1px solid #000; padding: 10px; font-size: 14px; }
        th { background-color: #f0f0f0; text-align: center; font-weight: bold; }
        td { text-align: center; }
        
        .text-left { text-align: left !important; padding-left: 10px !important; }
        .no-border { border: none !important; }
        
        /* ì„œëª…ë€ */
        .footer { margin-top: 80px; display: flex; justify-content: space-between; padding: 0 20px; }
        .sign-box { 
            width: 200px; border-bottom: 1px solid #000; 
            text-align: center; display: inline-block; margin-left: 10px; 
        }

        /* ì¸ì‡„ ì‹œ ìŠ¤íƒ€ì¼ */
        @media print {
            .no-print { display: none !important; }
            body { background: none; padding: 0; }
            .sheet { border: none; box-shadow: none; width: 100%; margin: 0; padding: 0; }
        }
    </style>
</head>
<body>

    <div class="no-print">
        <span style="margin-right: 20px;">ğŸ–¨ï¸ ë°˜ì¶œì¦ ë¯¸ë¦¬ë³´ê¸°</span>
        <button onclick="window.print()" class="btn">ì¸ì‡„í•˜ê¸°</button>
        <button onclick="window.close()" class="btn" style="background:#888; color:white;">ì°½ ë‹«ê¸°</button>
    </div>

    <div class="sheet">
        <table style="border: none; margin-bottom: 10px;">
            <tr>
                <td class="no-border text-left" style="width: 50%;"><strong>No.</strong> {{ trx.transaction_no }}</td>
                <td class="no-border" style="text-align: right;"><strong>ë°œí–‰ì¼:</strong> {{ today|date:"Yë…„ mì›” dì¼" }}</td>
            </tr>
        </table>

        <h1>ìì¬ ë°˜ì¶œì¦ (Gate Pass)</h1>
        
        <table>
            <colgroup>
                <col style="width: 20%;">
                <col style="width: 30%;">
                <col style="width: 20%;">
                <col style="width: 30%;">
            </colgroup>
            <tr>
                <th>ìˆ˜ì‹ ì²˜ (ì—…ì²´ëª…)</th>
                <td class="text-left fw-bold">{{ trx.vendor.name }}</td>
                <th>ë°˜ì¶œ ë¶€ì„œ</th>
                <td>ìì¬íŒ€</td>
            </tr>
            <tr>
                <th>ë°˜ì¶œ ì‚¬ìœ </th>
                <td colspan="3" class="text-left">{{ trx.remark }}</td>
            </tr>
        </table>

        <table>
            <thead>
                <tr>
                    <th style="width: 20%;">í’ˆë²ˆ</th>
                    <th>í’ˆëª…</th>
                    <th style="width: 10%;">ë‹¨ìœ„</th>
                    <th style="width: 15%;">ìˆ˜ëŸ‰</th>
                    <th style="width: 20%;">ë¹„ê³ </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="font-weight: bold;">{{ trx.part.part_no }}</td>
                    <td class="text-left">{{ trx.part.part_name }}</td>
                    <td>EA</td>
                    <td style="font-weight: bold; font-size: 16px;">{{ trx.quantity }}</td>
                    <td>ë¶ˆëŸ‰ë°˜í’ˆ</td>
                </tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td><td></td></tr>
                <tr><td>&nbsp;</td><td></td><td></td><td></td><td></td></tr>
            </tbody>
            <tfoot>
                <tr>
                    <th colspan="3">í•© ê³„</th>
                    <th style="font-size: 16px;">{{ trx.quantity }}</th>
                    <th></th>
                </tr>
            </tfoot>
        </table>

        <div style="border: 2px solid #000; padding: 15px; min-height: 100px; margin-bottom: 20px;">
            <strong>[íŠ¹ì´ì‚¬í•­ / ì¸ìˆ˜ì ë©”ëª¨]</strong><br><br>
            ìœ„ ë¬¼í’ˆì„ ì •íˆ ë°˜ì¶œ(ì¸ìˆ˜) í•˜ì˜€ìŠµë‹ˆë‹¤.
        </div>

        <div class="footer">
            <div>
                <strong>ë°˜ì¶œ ë‹´ë‹¹ì :</strong> 
                <span class="sign-box">{{ trx.actor.last_name }}{{ trx.actor.first_name }}</span> (ì¸)
            </div>
            <div>
                <strong>ì¸ìˆ˜ì í™•ì¸ :</strong> 
                <span class="sign-box"></span> (ì¸)
            </div>
        </div>
    </div>

    
    
    <script>
        // í˜ì´ì§€ ë¡œë“œ í›„ 0.5ì´ˆ ë’¤ ìë™ ì¸ì‡„ íŒì—…
        window.onload = function() { setTimeout(window.print, 500); }
    </script>
</body>
</html>